#!/bin/bash

if [[ "$*" =~ "-q" ]]; then quiet="true"; fi

if [ -n $1 ] && [ -d $1 ]
then
	cd $1
fi

for test in input-*
do
	if [ ! -f $test ]; then continue; fi

	testName=${test#input-}
	
	if [ -n $quiet ]
	then
		../shortest-path $testName <$test >output-$testName 2>/dev/null
	else
		../shortest-path $testName <$test >output-$testName
	fi

	if [ $? -eq 0 ]
	then
		printf "%-50s PASSED\n" input$testName
	else
		printf "%-50s FAILED\n" input$testName
	fi

done
